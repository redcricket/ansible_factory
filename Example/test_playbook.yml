---
# YAML documents begin with the document separator ---

# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-

  # Hosts: where our play will run and options it will run with
  hosts: all

  # Tasks: the list of tasks that will be executed within the play, this section
  # can also be used for pre and post tasks
  tasks:
    - name: Do MMR
      realtime_server:
        server_type: 'MMR'
        action: "{{ item }}"
      with_items: 
        - 'suspend'
        - 'update_executable'
        - 'unsuspend'
    - name: Do ZC
      realtime_server:
        server_type: 'ZC'
        action: "{{ item }}"
      with_items: 
        - 'suspend'
        - 'update_executable'
        - 'unsuspend'

    - name: All done
      local_action: debug msg="All done"
      run_once: True
